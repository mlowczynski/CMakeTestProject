# Minimum version, that supports all features used
cmake_minimum_required(VERSION 3.26)
project(Generators VERSION 1.0.0)

# Referring to the documentation it is the preferred way to generate files.
# For more details see: "Examples: Generating Files"
# https://cmake.org/cmake/help/latest/command/add_custom_command.html

# The CppGenerator will depend on files generated by this command
add_custom_command(
        OUTPUT "${CMAKE_BINARY_DIR}/Printer.hpp"
        COMMAND "${CMAKE_CURRENT_SOURCE_DIR}/printergen"
        WORKING_DIRECTORY "${CMAKE_BINARY_DIR}"
        COMMENT "Generating Printer.hpp"
        VERBATIM
)
# The MyLibrary will depend on this target
add_custom_target(
        CppGenerator
        DEPENDS "${CMAKE_BINARY_DIR}/Printer.hpp"
        COMMENT "Printer.hpp generator target reached"
        SOURCES "${CMAKE_BINARY_DIR}/Printer.hpp"
)

# add additional info about target's include directories
set_target_properties(
    CppGenerator PROPERTIES
    INCLUDE_DIRECTORIES "${CMAKE_BINARY_DIR}"
)